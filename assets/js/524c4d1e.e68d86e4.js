"use strict";(self.webpackChunk_webda_docs=self.webpackChunk_webda_docs||[]).push([[52196],{16320:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>c,contentTitle:()=>i,default:()=>l,frontMatter:()=>r,metadata:()=>d,toc:()=>a});var s=n(17624),t=n(4552);const r={},i="ES6 Modules",d={id:"CommonIssues/ESM6",title:"ES6 Modules",description:"NodeJS now is able to have module there is a few differences:",source:"@site/pages/CommonIssues/ESM6.md",sourceDirName:"CommonIssues",slug:"/CommonIssues/ESM6",permalink:"/docs/CommonIssues/ESM6",draft:!1,unlisted:!1,editUrl:"https://github.com/loopingz/webda.io/tree/docs/pages/CommonIssues/ESM6.md",tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Dates",permalink:"/docs/CommonIssues/DateParadigm"}},c={},a=[];function m(e){const o={code:"code",h1:"h1",p:"p",pre:"pre",...(0,t.M)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.h1,{id:"es6-modules",children:"ES6 Modules"}),"\n",(0,s.jsx)(o.p,{children:"NodeJS now is able to have module there is a few differences:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:"require become import\n__dirname, __filename are not available anymore\n"})}),"\n",(0,s.jsxs)(o.p,{children:["Typescript is not adding the ",(0,s.jsx)(o.code,{children:".js"})," at the end of import, compiling to a non-working code.\nI cannot disagree more with the Microsoft team on this one, so to simplify the ",(0,s.jsx)(o.code,{children:"webda build"}),"\ncommand will add ",(0,s.jsx)(o.code,{children:".js"})," for every local import found."]}),"\n",(0,s.jsxs)(o.p,{children:["Webda itself have to build the core module with ",(0,s.jsx)(o.code,{children:"tsc-esm"})," it is a mod around typescript to add the ",(0,s.jsx)(o.code,{children:".js"})," extension for you."]}),"\n",(0,s.jsxs)(o.p,{children:["If you need ",(0,s.jsx)(o.code,{children:"__dirname"})," or ",(0,s.jsx)(o.code,{children:"__filename"})," you can use:"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{children:'import { getCommonJS } from "@webda/core";\nconst { __dirname, __filename } = getCommonJS(import.meta.url);\n'})})]})}function l(e={}){const{wrapper:o}={...(0,t.M)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}},4552:(e,o,n)=>{n.d(o,{I:()=>d,M:()=>i});var s=n(11504);const t={},r=s.createContext(t);function i(e){const o=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function d(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(r.Provider,{value:o},e.children)}}}]);