"use strict";(self.webpackChunk_webda_docs=self.webpackChunk_webda_docs||[]).push([[61352],{96008:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>l});var o=t(17624),s=t(4552);const i={},a="Tutorial - Contact list",r={id:"QuickStart/Tutorial",title:"Tutorial - Contact list",description:"For the purpose of the tutorial, we will build a small contact list application.",source:"@site/pages/QuickStart/Tutorial.md",sourceDirName:"QuickStart",slug:"/QuickStart/Tutorial",permalink:"/docs/QuickStart/Tutorial",draft:!1,unlisted:!1,editUrl:"https://github.com/loopingz/webda.io/tree/docs/pages/QuickStart/Tutorial.md",tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Quick Start",permalink:"/docs/QuickStart/"},next:{title:"Glossary",permalink:"/docs/Glossary"}},c={},l=[{value:"First steps",id:"first-steps",level:2},{value:"Unit test",id:"unit-test",level:2},{value:"Authentication",id:"authentication",level:2},{value:"Login/Password",id:"loginpassword",level:3},{value:"Google Authentication",id:"google-authentication",level:3},{value:"Restrict Contact to the current user",id:"restrict-contact-to-the-current-user",level:2},{value:"Binaries and files",id:"binaries-and-files",level:2},{value:"Deploy",id:"deploy",level:2},{value:"AWS",id:"aws",level:3},{value:"Kubernetes",id:"kubernetes",level:3},{value:"Conclusion",id:"conclusion",level:2},{value:"Prometheus metrics",id:"prometheus-metrics",level:3},{value:"Next tutorials",id:"next-tutorials",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.M)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"tutorial---contact-list",children:"Tutorial - Contact list"}),"\n",(0,o.jsx)(n.p,{children:"For the purpose of the tutorial, we will build a small contact list application."}),"\n",(0,o.jsx)(n.h2,{id:"first-steps",children:"First steps"}),"\n",(0,o.jsx)(n.p,{children:"Let's initialize the project first:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"# Create a folder\nmkdir webda-contacts\n# Init a git repo\ncd webda-contacts\ngit init\n# Launch the template\nnpx @webda/shell init webda:app\n"})}),"\n",(0,o.jsx)(n.p,{children:"This is a default output"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"? Your module name webda-contacts\n? Your module description My own contact list\n? Version 1.0.0\n? Keywords (separate by comma) webda-module\n? Do you want to create a module? No\n? Would you like to publish on GitHub? Yes\n? Would you like to enable SonarCloud.io? No\n? Would you like to enable codecov? No\n? Would you like to use GitHub Action? No\n? Would you like to publish on npm on tags? Yes\n? Do you want to use prettier? Yes\n? Do you want to use husky? Yes\n? Do you want to use typedoc? Yes\n? Do you want to use auto-version on push on main? No\n? Your npm email loopingz@loopingz.com\n? Repository (format: username/repo) loopingz/webda.io-tutorial\n? Do you want to use github-pages for documentation Yes\n"})}),"\n",(0,o.jsx)(n.p,{children:"The project should be created as follow:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 package-lock.json\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 src\n\u2502   \u2514\u2500\u2500 index.ts\n\u251c\u2500\u2500 tsconfig.json\n\u251c\u2500\u2500 typedoc.json\n\u251c\u2500\u2500 webda.config.json\n\u2514\u2500\u2500 webda.module.json\n"})}),"\n",(0,o.jsx)(n.p,{children:"Now, let's create our contact model."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"yarn new-model Contact\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Now let's define our Contact model by editing the file ",(0,o.jsx)(n.code,{children:"src/models/contact.ts"})]}),"\n",(0,o.jsx)(n.p,{children:"This is our current file:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",metastring:'title="src/models/contact.ts"',children:'import { CoreModel } from "@webda/core";\n\n/**\n * Define here a model that can be used along with Store service\n */\nexport class Contact extends CoreModel {\n  /**\n   * Call to check if action is available for the current user\n   * @param ctx the context of the request\n   * @param {string} action the type of action\n   * @returns {Promise<void>}\n   * @throws Exception if the action is not available to the user\n   */\n  async canAct(ctx, action: string): Promise<string | boolean> {\n    if (action === "myAction") {\n      return "Not permitted";\n    }\n    return true;\n  }\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"We want to add the fields for contact and for now, let's authorize everything."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",metastring:'title="src/models/contact.ts"',children:'import { CoreModel } from "@webda/core";\n\n/**\n * Define here a model that can be used along with Store service\n */\nexport class Contact extends CoreModel {\n  /**\n   * First name of our contact\n   */\n  firstName: string;\n  /**\n   * Last name of our contact\n   */\n  lastName: string;\n  /**\n   * Emails collection\n   */\n  emails: {\n    email: string;\n    type: "PERSONAL" | "PROFESSIONAL";\n  }[];\n  /**\n   * Notes\n   */\n  notes: string;\n  /**\n   * Call to check if action is available for the current user\n   * @param ctx the context of the request\n   * @param {string} action the type of action\n   * @returns {Promise<void>}\n   * @throws Exception if the action is not available to the user\n   */\n  async canAct(ctx, action: string): Promise<string | boolean> {\n    return true;\n  }\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"If you build, the schema is generated for your model"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"yarn build\nyarn run v1.22.19\n$ webda build\nerror: malformed object name 'HEAD'\n2023-04-20T22:27:01.683Z [ INFO] Compiling...\n2023-04-20T22:27:02.957Z [ INFO] Analyzing...\n2023-04-20T22:27:02.973Z [ INFO] Generating schema for Contact\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Let's expose the model by adding ",(0,o.jsx)(n.code,{children:"@Expose"})," annotation in ",(0,o.jsx)(n.code,{children:"src/models/contact.ts"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",metastring:'title="src/models/contact.ts"',children:'import { CoreModel, Expose } from "@webda/core";\n\n/**\n * Define here a model that can be used along with Store service\n */\n@Expose()\nexport class Contact extends CoreModel {\n...\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Now let's define the ",(0,o.jsx)(n.code,{children:"RESTDomainService"})," to expose our domain."]}),"\n",(0,o.jsxs)(n.p,{children:["Add inside ",(0,o.jsx)(n.code,{children:"webda.config.json"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:'title="webda.config.json"',children:'{\n  "$schema": "./.webda-config-schema.json",\n  "version": 3,\n  "parameters": {},\n  "services": {\n    "DomainService": {\n      "type": "RESTDomainService",\n      "queryMethod": "GET"\n    }\n  },\n  "module": {}\n}\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:'title="webda.config.json"',children:'{\n  "$schema": "./.webda-config-schema.json",\n  "version": 3,\n  "parameters": {},\n  "services": {\n    "DomainService": {\n      "type": "RESTDomainService",\n      "queryMethod": "GET"\n    }\n  },\n  "module": {}\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"You can export the openapi definition:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"\nyarn build\nyarn webda openapi openapi.yaml\n\n"})}),"\n",(0,o.jsx)(n.p,{children:"You can serve your API already:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"\nyarn webda debug\n\n"})}),"\n",(0,o.jsxs)(n.p,{children:["You have a frontend available to test the API hosted on ",(0,o.jsx)(n.a,{href:"https://loopingz.github.io/webda.io-tutorial/",children:"https://loopingz.github.io/webda.io-tutorial/"}),"\nBecause of cookie security we need to expose the UI on the same host, or expose the API through https, as it is easier to expose the UI on the same host with our ",(0,o.jsx)(n.code,{children:"ProxyService"})," let's add this to our webda.config.json"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:'title="webda.config.json"',children:'{\n    "services": {\n        ...\n        "Proxy": {\n            "type": "ProxyService",\n            "backend": "https://loopingz.github.io/webda.io-tutorial/",\n            "url": "/"\n        },\n        ...\n    }\n}\n\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Go to our application ",(0,o.jsx)(n.code,{children:"http://localhost:18080/"})]}),"\n",(0,o.jsxs)(n.p,{children:["If you prefer ",(0,o.jsx)(n.code,{children:"GraphQL"}),", you can use our module:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"yarn add @webda/graphql\n"})}),"\n",(0,o.jsxs)(n.p,{children:["And just define the service by adding to your ",(0,o.jsx)(n.code,{children:"webda.config.json"}),", it will add a route ",(0,o.jsx)(n.code,{children:"/graphql"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:'title="webda.config.json"',children:'{\n  "$schema": "./.webda-config-schema.json",\n  "version": 3,\n  "parameters": {},\n  "services": {\n    "DomainService": {\n      "type": "RESTDomainService"\n    },\n    "GraphQLService": {\n      "type": "Webda/GraphQLService"\n    }\n  },\n  "module": {}\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"Now, you can run the application and test the API:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"yarn webda debug\n"})}),"\n",(0,o.jsx)(n.h2,{id:"unit-test",children:"Unit test"}),"\n",(0,o.jsx)(n.p,{children:"Modify the Contact model to only authorize an authenticated user to do anything."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",metastring:'title="src/models/contact.ts"',children:"...\n    async canAct(ctx, action: string): Promise<string | boolean> {\n        // Require user to be authenticated to do anything on contact\n        return ctx.getCurrentUserId() !== undefined;\n    }\n...\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Let's add a unit test for our model, edit the file ",(0,o.jsx)(n.code,{children:"src/models/contact.spec.ts"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:'title="src/models/contact.spec.ts"',children:'import { suite, test } from "@testdeck/mocha";\nimport { WebdaSimpleTest } from "@webda/core/lib/test";\nimport * as assert from "assert";\nimport { Contact } from "./contact";\n\n@suite\nclass ContactTest extends WebdaSimpleTest {\n  @test\n  async canAct() {\n    const contact = new Contact();\n    const ctx = await this.newContext();\n    assert.ok((await contact.canAct(ctx, "")) !== true, "Can act should return false if not logged");\n    ctx.getSession().login("test", "test");\n    assert.ok(await contact.canAct(ctx, ""), "Can act should return false if not logged");\n  }\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"We can then launch the unit test with:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"yarn test\n"})}),"\n",(0,o.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,o.jsx)(n.p,{children:"If you reload the application, no contacts are displayed now, as it requires a logged user."}),"\n",(0,o.jsx)(n.p,{children:"Now that our Contact only authorizes logged user, we need to be able to login."}),"\n",(0,o.jsx)(n.p,{children:"If you refresh the application, now the API is called but no results are returned because there is no current user."}),"\n",(0,o.jsx)(n.p,{children:"We have several choices for authentication:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"OAuth"}),"\n",(0,o.jsx)(n.li,{children:"Login/Password"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"loginpassword",children:"Login/Password"}),"\n",(0,o.jsxs)(n.p,{children:["The login/password authentication relies on 2 model types: ",(0,o.jsx)(n.code,{children:"User"})," and ",(0,o.jsx)(n.code,{children:"Ident"})]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"User"})," model is the one that will be used to store the user information, it is the one that will be returned by the authentication service.\nThe ",(0,o.jsx)(n.code,{children:"Ident"})," model is the different types of idents: emails, or others that are linked to a user."]}),"\n",(0,o.jsxs)(n.p,{children:["We will use the default models for now, but you can create your own by extending the ",(0,o.jsx)(n.code,{children:"User"})," and ",(0,o.jsx)(n.code,{children:"Ident"})," models."]}),"\n",(0,o.jsxs)(n.p,{children:["Add an authentication service, by editing the ",(0,o.jsx)(n.code,{children:"webda.config.json"}),"\nThe authentication service requires a mailer service to send emails to users.\nBy setting the ",(0,o.jsx)(n.code,{children:"postValidation"})," to ",(0,o.jsx)(n.code,{children:"true"})," we allow the user to login before validating his email."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:'title="webda.config.json"',children:'{\n  "services": {\n    ...\n    "Mailer": {\n      "type": "DebugMailer"\n    },\n    "Authentication": {\n      "type": "Authentication",\n      "email": {\n        "postValidation": true\n      }\n    }\n    ...\n  }\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"Routes added by the authentication service:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"GET /auth/me"})," route is added to get the current user."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"GET /auth"})," route is added to list the type of authentication available."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"POST /auth"})," route is added to login with a specific type of authentication."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"You can reload the application and create your user. You will see the contacts back."}),"\n",(0,o.jsx)(n.h3,{id:"google-authentication",children:"Google Authentication"}),"\n",(0,o.jsxs)(n.p,{children:["You can add Google Authentication, by adding the following configuration to your ",(0,o.jsx)(n.code,{children:"webda.config.json"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:'title="webda.config.json"',children:'{\n    "services": {\n        ...\n        "GoogleAuth": {\n            "url": "/auth/google",\n            "no_referer": true,\n            "access_type": "offline",\n            "scope": [\n            "email",\n            ],\n            "type": "Webda/GoogleAuthentication",\n            "auth_uri": "https://accounts.google.com/o/oauth2/auth",\n            "token_uri": "https://oauth2.googleapis.com/token",\n            "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",\n            "redirect_uris": [\n            "http://localhost:18080/auth/google/callback",\n            ],\n            "javascript_origins": ["http://localhost:3000"],\n            "client_id": "...",\n            "project_id": "...",\n            "client_secret": "..."\n        },\n        ...\n    }\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["You also need to add the google-auth module with ",(0,o.jsx)(n.code,{children:"npmn install @webda/google-auth"})]}),"\n",(0,o.jsxs)(n.p,{children:["Then you should be able to login with Google by accessing ",(0,o.jsx)(n.code,{children:"http://localhost:18080/auth/google"})]}),"\n",(0,o.jsx)(n.h2,{id:"restrict-contact-to-the-current-user",children:"Restrict Contact to the current user"}),"\n",(0,o.jsxs)(n.p,{children:["We can now restrict the contact to the current user, by extending the ",(0,o.jsx)(n.code,{children:"OwnerModel"})," instead of ",(0,o.jsx)(n.code,{children:"CoreModel"})," and removing the ",(0,o.jsx)(n.code,{children:"canAct"})," method."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",metastring:'title="src/models/contact.ts"',children:'import { Expose, OwnerModel } from "@webda/core";\n\n/**\n\n- Define here a model that can be used along with Store service\n  */\n@Expose()\nexport class Contact extends OwnerModel {\n  /**\n   * First name of our contact\n   */\n  firstName: string;\n  /**\n   * Last name of our contact\n   */\n  lastName: string;\n  /**\n   * Emails collection\n   */\n  emails: {\n    email: string;\n    type: "PERSONAL" | "PROFESSIONAL";\n  }[];\n  /**\n   * Notes\n   */\n  notes: string;\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"Now no models are showing, but if you create a new Contact it will show up.\nYou can play with the application and see that the contact is only visible to the user that created it."}),"\n",(0,o.jsx)(n.h2,{id:"binaries-and-files",children:"Binaries and files"}),"\n",(0,o.jsxs)(n.p,{children:["Let's add ",(0,o.jsx)(n.code,{children:"photos"})," to our contact model, it will allow us to save binary files to each model."]}),"\n",(0,o.jsxs)(n.p,{children:["For this we will need to use a ",(0,o.jsx)(n.code,{children:"BinaryService"}),", that will store the binary files and maintain reference with the model.\nIt will also deduplicate files so if someone had the same file, it will not be duplicated."]}),"\n",(0,o.jsxs)(n.p,{children:["Add the following configuration to your ",(0,o.jsx)(n.code,{children:"webda.config.json"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:'title="webda.config.json"',children:'{\n    "services": {\n        ...\n        "Binary": {\n            "type": "FileBinary",\n            "folder": "./binaries",\n            "models": {\n            "_": ["_"]\n            },\n            "url": "/"\n        },\n        ...\n    }\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Then add the following to your ",(0,o.jsx)(n.code,{children:"Contact"})," model:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",metastring:'title="src/models/contact.ts"',children:'import { Binaries, Expose, OwnerModel } from "@webda/core";\n...\nexport class Contact extends OwnerModel {\n  ...\n  /**\n   * Photos of the contact\n   */\n  photos: Binaries;\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["If you want to only store one file, you can use ",(0,o.jsx)(n.code,{children:"Binary"})," instead of ",(0,o.jsx)(n.code,{children:"Binaries"}),".\nYou can now upload a photo to your contact, it will be stored in the ",(0,o.jsx)(n.code,{children:"binaries"})," folder."]}),"\n",(0,o.jsx)(n.p,{children:"We now have new routes:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"/contacts/{uuid}/photos"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"/contacts/{uuid}/photos/{index}"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"/contacts/{uuid}/photos/{index}/{hash}"})}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"These are the route to manage upload and download of the photos."}),"\n",(0,o.jsxs)(n.p,{children:["Webda uses a challenge mechanism to upload files, so you need to call the ",(0,o.jsx)(n.code,{children:"/contacts/{uuid}/photos"})," route to get a challenge.\nThen you can upload the file with the challenge, or not if the file is already on our servers.\nIt also allows direct upload to AWS S3 or Google Cloud Storage."]}),"\n",(0,o.jsx)(n.p,{children:"To allow the frontend application to know that we now have photos available, let's add a route /contacts/version that will return the version of the model."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:'title="src/models/contact.ts"',children:'import { Action, Binaries, Expose, OwnerModel, WebContext } from "@webda/core";\n...\n\nexport class Contact extends OwnerModel {\n  ...\n  @Action({\n    methods: ["GET"],\n  })\n  static async version(context: WebContext): Promise<void> {\n    context.write({\n      version: 2,\n      photos: true\n    });\n  }\n  ...\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"Refresh the app, it should now display the photos upload form and the photos."}),"\n",(0,o.jsx)(n.h2,{id:"deploy",children:"Deploy"}),"\n",(0,o.jsx)(n.p,{children:"Let's deploy our application."}),"\n",(0,o.jsx)(n.h3,{id:"aws",children:"AWS"}),"\n",(0,o.jsx)(n.p,{children:"Currently our application stores all data within the memory, so we need to switch to DynamoDB."}),"\n",(0,o.jsxs)(n.p,{children:["Create a deployment ",(0,o.jsx)(n.code,{children:"deployments/aws.json"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:'title="deployments/aws.json"',children:'{\n  "services": {\n    "Registry": {\n      "type": "Webda/DynamoDB",\n      "table": "contacts-application"\n    }\n  }\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"kubernetes",children:"Kubernetes"}),"\n",(0,o.jsx)(n.p,{children:"Let's deploy our application within Kubernetes"}),"\n",(0,o.jsxs)(n.p,{children:["Create a deployment ",(0,o.jsx)(n.code,{children:"deployments/kubernetes.json"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:'title="deployments/kubernetes.json"',children:'{\n  "services": {\n    "Registry": {\n      "type": "Webda/DynamoDB",\n      "table": "contacts-application"\n    }\n  }\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,o.jsxs)(n.p,{children:["You can continue this by adding a more secure API with ",(0,o.jsx)(n.code,{children:"@webda/hawk"}),", add metrics for your application.\nYou can also add elasticsearch to your application to allow full-text search with ",(0,o.jsx)(n.code,{children:"@webda/elasticsearch"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"prometheus-metrics",children:"Prometheus metrics"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:'title="webda.config.json"',children:'{\n    "services": {\n        ...\n        "PrometheusService": {\n            "type": "Webda/PrometheusService",\n            "portNumber": "9090"\n        }\n        ...\n    }\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"next-tutorials",children:"Next tutorials"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Add thumbnails generation via asynchronous tasks"}),"\n",(0,o.jsx)(n.li,{children:"Add a send email feature"}),"\n",(0,o.jsx)(n.li,{children:"Serve the ui"}),"\n",(0,o.jsx)(n.li,{children:"Add websockets"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.M)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},4552:(e,n,t)=>{t.d(n,{I:()=>r,M:()=>a});var o=t(11504);const s={},i=o.createContext(s);function a(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);