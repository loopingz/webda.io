"use strict";(self.webpackChunk_webda_docs=self.webpackChunk_webda_docs||[]).push([[46312],{89260:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>d});var i=t(17624),s=t(4552);const r={},o="Webda v4",c={id:"Ideas/v4",title:"Webda v4",description:"The motivation behind v4 is to provide more documentation, a new Eventing system based on cloudevents, a new Cache system.",source:"@site/contribute/Ideas/v4.md",sourceDirName:"Ideas",slug:"/Ideas/v4",permalink:"/contribute/Ideas/v4",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Versioning",permalink:"/contribute/Ideas/Versioning"},next:{title:"WebdaQL Developement",permalink:"/contribute/WebdaQL Development"}},a={},d=[{value:"Core",id:"core",level:2},{value:"Entrypoints",id:"entrypoints",level:2},{value:"EventService",id:"eventservice",level:2}];function l(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.M)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"webda-v4",children:"Webda v4"}),"\n",(0,i.jsx)(n.p,{children:"The motivation behind v4 is to provide more documentation, a new Eventing system based on cloudevents, a new Cache system."}),"\n",(0,i.jsx)(n.p,{children:"The number of breaking changes should mostly concerns the events."}),"\n",(0,i.jsx)(n.h2,{id:"core",children:"Core"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Application: define the services, models"}),"\n",(0,i.jsxs)(n.li,{children:["Core: create and manage the services it is available as a singleton in the application ",(0,i.jsx)(n.code,{children:"Core.get()"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Default services:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"ConfigurationService"}),"\n",(0,i.jsx)(n.li,{children:"CryptoService"}),"\n",(0,i.jsx)(n.li,{children:"Registry"}),"\n",(0,i.jsx)(n.li,{children:"EventService"}),"\n",(0,i.jsx)(n.li,{children:"SessionManager"}),"\n",(0,i.jsx)(n.li,{children:"Logger?"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Default services are considered as core services and are always available in the application."}),"\n",(0,i.jsx)(n.h2,{id:"entrypoints",children:"Entrypoints"}),"\n",(0,i.jsx)(n.p,{children:"Once the application is created, you can expose it through"}),"\n",(0,i.jsxs)(n.p,{children:["REST API\nGraphQL\n",(0,i.jsx)(n.em,{children:"Websocket"}),"\n",(0,i.jsx)(n.em,{children:"GRPC"})]}),"\n",(0,i.jsx)(n.h2,{id:"eventservice",children:"EventService"}),"\n",(0,i.jsx)(n.p,{children:"We are not using the NodeJS event anymore as events through your application can flow between different micro-services, instances of the application, etc."}),"\n",(0,i.jsx)(n.p,{children:"The EventService is based on the CloudEvents specification and is used to emit and listen to events."}),"\n",(0,i.jsx)(n.p,{children:"To emit an event just do:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"// To emit without waiting for the event to be processed\nnew MyEvent(...).emit(true);\n// or if the event requires to be processed\nawait new MyEvent(...).emit();\n"})}),"\n",(0,i.jsx)(n.p,{children:"To listen to an event, you create a CloudEvents subscription:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{})})]})}function h(e={}){const{wrapper:n}={...(0,s.M)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},4552:(e,n,t)=>{t.d(n,{I:()=>c,M:()=>o});var i=t(11504);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);